var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,a=(e,t)=>{for(var o in t||(t={}))r.call(t,o)&&i(e,o,t[o]);if(n)for(var o of n(t))s.call(t,o)&&i(e,o,t[o]);return e},c=(e,n)=>t(e,o(n));import{d as _,a as u,o as l,c as d,b as m,r as p,e as v,G as g,f as h,g as f,h as b,u as E,i as w,w as O,j as y,k as A,l as j,m as I,p as P,n as T,F as D,q as L,V as R,s as V}from"./vendor.cd5836c0.js";let k;const x={},S=function(e,t){if(!t)return e();if(void 0===k){const e=document.createElement("link").relList;k=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in x)return;x[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":k,t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((e,t)=>{n.addEventListener("load",e),n.addEventListener("error",t)})):void 0}))).then((()=>e()))};var z=_({name:"Icon",props:["name","color","size","width","height","vbs"],setup({name:e="default",color:t="black",size:o=24,width:n,height:r,vbs:s=24}){const i=u((()=>function(e){switch(e){case"../icons/account.vue":return S((()=>import("./account.941ecd64.js")),["./assets/account.941ecd64.js","./assets/vendor.cd5836c0.js"]);case"../icons/all-inbox.vue":return S((()=>import("./all-inbox.1d494ff5.js")),["./assets/all-inbox.1d494ff5.js","./assets/vendor.cd5836c0.js"]);case"../icons/arrow-back.vue":return S((()=>import("./arrow-back.e588c692.js")),["./assets/arrow-back.e588c692.js","./assets/vendor.cd5836c0.js"]);case"../icons/contact-mail.vue":return S((()=>import("./contact-mail.fb080f41.js")),["./assets/contact-mail.fb080f41.js","./assets/vendor.cd5836c0.js"]);case"../icons/default.vue":return S((()=>import("./default.ddcb47ab.js")),["./assets/default.ddcb47ab.js","./assets/vendor.cd5836c0.js"]);case"../icons/expand-less.vue":return S((()=>import("./expand-less.51a77966.js")),["./assets/expand-less.51a77966.js","./assets/vendor.cd5836c0.js"]);case"../icons/extension.vue":return S((()=>import("./extension.a7926cae.js")),["./assets/extension.a7926cae.js","./assets/vendor.cd5836c0.js"]);case"../icons/github.vue":return S((()=>import("./github.527f7660.js")),["./assets/github.527f7660.js","./assets/vendor.cd5836c0.js"]);case"../icons/menu.vue":return S((()=>import("./menu.17b906f4.js")),["./assets/menu.17b906f4.js","./assets/vendor.cd5836c0.js"]);case"../icons/more-vert.vue":return S((()=>import("./more-vert.896c773c.js")),["./assets/more-vert.896c773c.js","./assets/vendor.cd5836c0.js"]);case"../icons/settings.vue":return S((()=>import("./settings.d58995ec.js")),["./assets/settings.d58995ec.js","./assets/vendor.cd5836c0.js"]);case"../icons/sync.vue":return S((()=>import("./sync.9af5d20d.js")),["./assets/sync.9af5d20d.js","./assets/vendor.cd5836c0.js"]);default:return Promise.reject(new Error("Unknown variable dynamic import: "+e))}}(`../icons/${e}.vue`)));return{name:"Icon",color:t,size:o,width:n,height:r,icon:e,Icon:i,vbs:s}}});z.render=function(e,t,o,n,r,s){var i,a;return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",class:[e.name,e.icon],viewBox:`0 0 ${e.vbs} ${e.vbs}`,width:null!=(i=e.width)?i:e.size,height:null!=(a=e.height)?a:e.size},[m("g",{fill:e.color},[(l(),d(p(e.Icon)))],8,["fill"])],10,["viewBox","width","height"])};var $=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:z});const M="gnotion",G="0.0.1",B=(e="",t={})=>{const{onlylog:o=!1,name:n=M,version:r=G,color:s={text:"white",version:"#66666666",log:"#0084ffff",warn:"orange",error:"red",info:"gray"}}=t,i=(t="log",i=!0)=>{const a=`\n      font-family: sans-serif;\n      color: ${s.text};\n      display: inline-block;\n      line-height: 1.35;\n    `,c=[`%c ${n} %c ${r}`,`${a}\n        padding: 4px 4px 4px 8px;\n        border-radius: 2.6em 0 0 1.5em;\n        background: ${s[null!=t?t:"primary"]};\n      `,`${a}\n        padding: 4px 12px 4px 4px;\n        border-radius: 0 1.2em 2em 0;\n        background: ${s.version};\n      `];return i?console[o?"log":t].bind(window.console,...c,e&&`${e}:`.toUpperCase()):()=>{}};return{log:i("log",!1),warn:i("warn"),error:i("error"),info:i("info")}};var F=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",init:()=>{B("init").info("store init.")}});const C=async({log:e,state:t,github:o})=>{const{source:{username:n,reponame:r}}=t,s=await o.getIssues(n,r);return e(s),s.listIssues({state:"all"})};var N=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",init:async({state:e},{sources:t})=>{e.sources=t},getIssuesAsList:C,readArticle:async(e,t)=>{const{github:o,log:n,state:r}=e;return n(o,r.source),a({test:"test"},t)},readComments:()=>({a:"a"}),getList:async(e,...t)=>{const{state:o}=e,n=await{issues:()=>C(e,...t),repo:()=>[],wiki:()=>[],gist:()=>[]}[o.source.type]();return e.log(n),[]}});const W=(e,t)=>{X[X._mode_][e]=null!=t?t:!X[X._mode_][e]};var U=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",_toggle_:W}),q=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",_toggle_:W});const H=Symbol("theme"),J=v({dark:!1,light:!0}),K=Symbol("notion"),Q=v({fab:!0,drawer:!1,browser:!1,mask:!1,editor:!1}),X=v({_mode_:K,[H]:J,[K]:Q,provider:"github",sources:[],source:{provider:"github",type:"issues",url:"https://github.com/vinceweel/Gnotion",username:"vinceweel",reponame:"Gnotion"}}),Y=v(c(a({},B("action")),{state:X,github:(({token:e,username:t})=>new g({token:e,username:t}))(X.source)})),Z=a(a({},F),N),ee=(e=X.provider)=>t=>{const o={github:N};return(...n)=>{const r=o[e][t];if(r)return r(Y,...n);B("store").error(`cannot dispatch the action named "${t}", maybe it is not exist?`)}},te=e=>Object.keys(Z).includes(e),oe=a(a({},U),q),ne=e=>(t,...o)=>{const n={github:q}[e][t];n&&n(...o)},re=e=>Object.keys(oe).includes(e),se=(e=X.provider)=>({state:X,hasMutation:re,commit:ne(e),hasAction:te,dispatch:ee(e)});var ie=_({props:["provider","action","params"],setup({provider:e="github",action:t,params:o},{emit:n}){const{hasAction:r,dispatch:s}=se(e);if(!r(t))throw new Error(`the action named: "${t}" is not exsited.`);const i=h({}),c=h(!1),_=async(e=null)=>{var n;c.value=!0,i.value=await s(t)(a(a({},o),e)),await(n=5e3,new Promise((e=>{const t=setTimeout((()=>{e(t),clearTimeout(t)}),n)}))),c.value=!1};return f((async()=>{await _(),n("finish",i.value)})),{result:i,loading:c,refresh:_}}});ie.render=function(e,t,o,n,r,s){return b(e.$slots,"default",{result:e.result,loading:e.loading,refresh:e.refresh})};var ae=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ie});var ce=_({name:"Avatar",props:["url","size","height","width"],setup({url:e,size:t=42,width:o,height:n}){const{t:r}=E(),s=w((()=>e)),i=!!s.value,a=e=>`${e}px`,c=w((()=>({height:a(null!=n?n:t),width:a(null!=o?o:t)})));return{name:"Avatar",t:r,Icon:z,src:s,isValid:i,style:c,size:t}}});const _e=O()(((e,t,o,n,r,s)=>(l(),d("div",{class:[e.name],style:e.style},[e.isValid?(l(),d("img",{key:0,class:"image",height:e.size,width:e.size,src:e.src,alt:e.t("avatar")},null,8,["height","width","src","alt"])):(l(),d(p(e.Icon),{key:1,class:"icon",name:"account",size:e.size},null,8,["size"]))],6))));ce.render=_e,ce.__scopeId="data-v-6ecca210";var ue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ce});const le=e=>{const{state:t,commit:o}=se();return[w((()=>t[K][e])),t=>{o("_toggle_",e,"boolean"==typeof t?t:void 0)}]};var de=_({name:"Search",components:{Icon:z},setup(){const{t:e}=E(),[,t]=le("mask"),[o,n]=le("drawer");return y(o,(()=>{t(o.value)})),{name:"Search",t:e,drawerOn:o,drawerToggle:n}}});const me=O()(((e,t,o,n,r,s)=>{const i=A("Icon");return l(),d("div",{class:[e.name]},[m("button",{onClick:t[1]||(t[1]=(...t)=>e.drawerToggle&&e.drawerToggle(...t)),class:["_unset_","_center_","action"]},[e.drawerOn?(l(),d(i,{key:1,name:"arrow-back"})):(l(),d(i,{key:0,name:"menu"}))]),m("input",{type:"text",class:["_unset_","input"],placeholder:`${e.t("search")}...`},null,8,["placeholder"])],2)}));de.render=me,de.__scopeId="data-v-73f72f8d";var pe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:de});const ve="FloatActionMenu",ge=_({name:ve,props:["offset","on","width"],setup(e,{emit:t}){const o=h(null),n=w((()=>`${e.width}px`)),r=w((()=>`${e.offset.x}px`)),s=w((()=>`${e.offset.y}px`));return j((()=>{t("update:width",o.value.clientWidth)})),{name:ve,wrap:o,width:n,x:r,y:s}}}),he=()=>{I((e=>({fc8798c0:e.x,fc8798be:e.y,"1b5c8cee":e.width})))},fe=ge.setup;ge.setup=fe?(e,t)=>(he(),fe(e,t)):he;const be=O();P("data-v-160d934c");const Ee={class:"wrap",ref:"wrap"};T();const we=be(((e,t,o,n,r,s)=>(l(),d("div",{class:["_zero_",e.name,e.on&&"on"]},[m("div",Ee,[b(e.$slots,"default",{},void 0,!0)],512)],2))));ge.render=we,ge.__scopeId="data-v-160d934c";var Oe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ge});const ye=Object.entries({"./Avatar.vue":()=>S((()=>Promise.resolve().then((function(){return ue}))),void 0),"./core/Api.vue":()=>S((()=>Promise.resolve().then((function(){return ae}))),void 0),"./core/Icon.vue":()=>S((()=>Promise.resolve().then((function(){return $}))),void 0),"./icons/account.vue":()=>S((()=>import("./account.941ecd64.js")),["./assets/account.941ecd64.js","./assets/vendor.cd5836c0.js"]),"./icons/all-inbox.vue":()=>S((()=>import("./all-inbox.1d494ff5.js")),["./assets/all-inbox.1d494ff5.js","./assets/vendor.cd5836c0.js"]),"./icons/arrow-back.vue":()=>S((()=>import("./arrow-back.e588c692.js")),["./assets/arrow-back.e588c692.js","./assets/vendor.cd5836c0.js"]),"./icons/contact-mail.vue":()=>S((()=>import("./contact-mail.fb080f41.js")),["./assets/contact-mail.fb080f41.js","./assets/vendor.cd5836c0.js"]),"./icons/default.vue":()=>S((()=>import("./default.ddcb47ab.js")),["./assets/default.ddcb47ab.js","./assets/vendor.cd5836c0.js"]),"./icons/expand-less.vue":()=>S((()=>import("./expand-less.51a77966.js")),["./assets/expand-less.51a77966.js","./assets/vendor.cd5836c0.js"]),"./icons/extension.vue":()=>S((()=>import("./extension.a7926cae.js")),["./assets/extension.a7926cae.js","./assets/vendor.cd5836c0.js"]),"./icons/github.vue":()=>S((()=>import("./github.527f7660.js")),["./assets/github.527f7660.js","./assets/vendor.cd5836c0.js"]),"./icons/menu.vue":()=>S((()=>import("./menu.17b906f4.js")),["./assets/menu.17b906f4.js","./assets/vendor.cd5836c0.js"]),"./icons/more-vert.vue":()=>S((()=>import("./more-vert.896c773c.js")),["./assets/more-vert.896c773c.js","./assets/vendor.cd5836c0.js"]),"./icons/settings.vue":()=>S((()=>import("./settings.d58995ec.js")),["./assets/settings.d58995ec.js","./assets/vendor.cd5836c0.js"]),"./icons/sync.vue":()=>S((()=>import("./sync.9af5d20d.js")),["./assets/sync.9af5d20d.js","./assets/vendor.cd5836c0.js"]),"./notion/Browser.vue":()=>S((()=>import("./Browser.c9e5be9d.js")),["./assets/Browser.c9e5be9d.js","./assets/Browser.e6f318f2.css","./assets/vendor.cd5836c0.js"]),"./notion/Discuss.vue":()=>S((()=>import("./Discuss.eb294fcb.js")),["./assets/Discuss.eb294fcb.js","./assets/Discuss.78931eef.css","./assets/vendor.cd5836c0.js"]),"./notion/DiscussEditor.vue":()=>S((()=>import("./DiscussEditor.8b3f5afa.js")),["./assets/DiscussEditor.8b3f5afa.js","./assets/DiscussEditor.ec71a18f.css","./assets/vendor.cd5836c0.js","./assets/scrolling.2362fadd.js"]),"./notion/Drawer.vue":()=>S((()=>import("./Drawer.186b0d31.js")),["./assets/Drawer.186b0d31.js","./assets/Drawer.58c669c8.css","./assets/vendor.cd5836c0.js"]),"./notion/Editor.vue":()=>S((()=>import("./Editor.2d73611f.js")),void 0),"./notion/FloatActionBar.vue":()=>S((()=>import("./FloatActionBar.dec8ff8c.js")),["./assets/FloatActionBar.dec8ff8c.js","./assets/FloatActionBar.527a93f9.css","./assets/vendor.cd5836c0.js","./assets/scrolling.2362fadd.js"]),"./notion/FloatActionMenu.vue":()=>S((()=>Promise.resolve().then((function(){return Oe}))),void 0),"./notion/Mask.vue":()=>S((()=>import("./Mask.16076194.js")),["./assets/Mask.16076194.js","./assets/Mask.0c9809d3.css","./assets/vendor.cd5836c0.js"]),"./notion/Reader.vue":()=>S((()=>import("./Reader.f7de9a3f.js")),["./assets/Reader.f7de9a3f.js","./assets/Reader.516b3b60.css","./assets/vendor.cd5836c0.js"]),"./notion/Search.vue":()=>S((()=>Promise.resolve().then((function(){return pe}))),void 0)}).filter((([e])=>!/\/icons\//.test(e))).map((([e,t])=>{const o=e.match(/.+\/(.+?)\.vue$/);return[o&&o[1],u(t)]}));var Ae=_({name:"ActivityNotion",components:Object.fromEntries(ye),setup(){const[e]=le("editor");return{editorOn:e}}});Ae.render=function(e,t,o,n,r,s){const i=A("FloatActionBar"),a=A("Drawer"),c=A("Browser"),_=A("Editor"),u=A("Reader"),p=A("DiscussEditor"),v=A("Discuss"),g=A("Mask");return l(),d(D,null,[m(i),m(a),m(c),e.editorOn?(l(),d(_,{key:0})):(l(),d(D,{key:1},[m(u),m(p),m(v)],64)),m(g)],64)};var je=_({name:"Gnotion",components:{ActivityNotion:Ae}});je.render=function(e,t,o,n,r,s){const i=A("ActivityNotion");return l(),d(i)};const Ie={search:"Search",avatar:"Avatar",guest:"Guest",slogn:"Login from Github >>",settings:"Settings",repo_link:"Github Repo",editor_placeholder:"Want to Say Something ? ...",more_menu:"More Actions"},Pe=c(a({},Ie),{search:"搜索",avatar:"头像",guest:"看客",slogn:"通过 Github 登陆 >>",settings:"设置",repo_link:"Github 仓库",editor_placeholder:"不想说点啥么？……",more_menu:"更多操作"}),Te=L({legacy:!1,locale:navigator.language,fallbackWarn:!1,fallbackLocale:"en",messages:{en:Ie,"en-US":Ie,zh:Pe,"zh-CN":Pe}});if(location.search.includes("debug")){const e=new R;location.search.includes("debug=false")&&e.destroy()}V(je).use(Te).mount("#app"),se().dispatch("init")(gnotion);export{ae as A,ce as _,se as a,z as b,de as c,ge as d,S as e,le as u};
